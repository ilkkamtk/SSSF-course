<!DOCTYPE html>
<html lang="en-US">

<head>
    <meta charset='utf-8'>
    <meta http-equiv="X-UA-Compatible" content="chrome=1">
    <meta name="viewport" content="width=device-width,maximum-scale=2">
    <meta name="description" content="Server Side Scripting Frameworks : Ile, Pate ja Olli">

    <link rel="stylesheet" type="text/css" media="screen" href="/assets/css/style.css?v=cac652a568b6b28ab6611d1d0378e9b2666f9784">

    <!-- Begin Jekyll SEO tag v2.3.0 -->
<title>map / reduce / filter | Server Side Scripting Frameworks</title>
<meta property="og:title" content="map / reduce / filter" />
<meta property="og:locale" content="en_US" />
<meta name="description" content="Ile, Pate ja Olli" />
<meta property="og:description" content="Ile, Pate ja Olli" />
<link rel="canonical" href="http://localhost:4000/Slides/W1-3-Functional-JS-Map-Reduce-Filter.html" />
<meta property="og:url" content="http://localhost:4000/Slides/W1-3-Functional-JS-Map-Reduce-Filter.html" />
<meta property="og:site_name" content="Server Side Scripting Frameworks" />
<script type="application/ld+json">
{"name":null,"description":"Ile, Pate ja Olli","author":null,"@type":"WebPage","url":"http://localhost:4000/Slides/W1-3-Functional-JS-Map-Reduce-Filter.html","publisher":null,"image":null,"headline":"map / reduce / filter","dateModified":null,"datePublished":null,"sameAs":null,"mainEntityOfPage":null,"@context":"http://schema.org"}</script>
<!-- End Jekyll SEO tag -->

</head>

<body>

<!-- HEADER -->
<div id="header_wrap" class="outer">
    <header class="inner">
        <a id="forkme_banner" href="http://github.com/ilkkamtk/SSSF-course">View on GitHub</a>

        <h1 id="project_title">Server Side Scripting Frameworks</h1>
        <h2 id="project_tagline">Ile, Pate ja Olli</h2>

        
    </header>
</div>



<!-- MAIN CONTENT -->
<div id="main_content_wrap" class="outer">
    <!-- NAVI -->
    <nav>
    <ul>
        
        
        <li>
            <a  href="http://localhost:4000/">Home</a>
        </li>
        
        <li>
            <a  href="http://localhost:4000/Slides/QA.html">QA</a>
        </li>
        
        <li>
            <a  href="http://localhost:4000/Slides/W1-1-JS-styleguide.html">Javascript Style Guide</a>
        </li>
        
        <li>
            <a  href="http://localhost:4000/Slides/W1-1-Toolchain.html">Toolchain</a>
        </li>
        
        <li>
            <a  href="http://localhost:4000/Slides/W1-2-ECMAScript6-const-let-arrow_function.html">Some new features of ES6</a>
        </li>
        
        <li>
            <a class="active" href="http://localhost:4000/Slides/W1-3-Functional-JS-Map-Reduce-Filter.html">map / reduce / filter</a>
        </li>
        
        <li>
            <a  href="http://localhost:4000/Slides/W1-4-ES6-promise-fetch.html">Promise &amp; fetch</a>
        </li>
        
        <li>
            <a  href="http://localhost:4000/Slides/W2-1-express.html">Express</a>
        </li>
        
        <li>
            <a  href="http://localhost:4000/Slides/W2-1-npm.html">NPM</a>
        </li>
        
        <li>
            <a  href="http://localhost:4000/Slides/W2-2-NoSQL-MongoDB-mongoose.html">NoSQL + mongoose</a>
        </li>
        
        <li>
            <a  href="http://localhost:4000/Slides/W2-2-osx-install.html">MongoDB on OS X</a>
        </li>
        
        <li>
            <a  href="http://localhost:4000/Slides/W2-3-paas-jelastic.html">PAAS + Jelastic</a>
        </li>
        
        <li>
            <a  href="http://localhost:4000/Slides/W2-4-Deploy_on_jelastic.html">Deploy on Jelastic</a>
        </li>
        
        <li>
            <a  href="http://localhost:4000/Slides/W3-1-NoSQL-MongoDB-mongoose-continued.html">Mongoose continued</a>
        </li>
        
        <li>
            <a  href="http://localhost:4000/Slides/W3-2-Pug.html">PUG</a>
        </li>
        
        <li>
            <a  href="http://localhost:4000/Slides/W3-3-rest-and-express.html">REST</a>
        </li>
        
        <li>
            <a  href="http://localhost:4000/Slides/W3-4-https-passport.html">Security</a>
        </li>
        
        <li>
            <a  href="http://localhost:4000/Slides/W4-2-WebRTC.html">WebRTC</a>
        </li>
        
        <li>
            <a  href="http://localhost:4000/Slides/W4-4-Helmet-CORS.html">Security continued</a>
        </li>
        
        <li>
            <a  href="http://localhost:4000/assets/css/style.css"></a>
        </li>
        
    </ul>
</nav>
    <section id="main_content" class="inner">
        <h2 id="map--reduce--filter">map / reduce / filter</h2>
<h2 id="functional-javascript-basics-with-map--reduce--filter">Functional Javascript Basics with map / reduce / filter</h2>
<h4 id="server-side-scripting-frameworks">Server-side scripting frameworks</h4>
<h4 id="tx00cr77-3001--spring-2017">TX00CR77-3001 / Spring 2017</h4>
<h4 id="olli-alm">Olli Alm</h4>

<hr />

<h1 id="contents">Contents</h1>

<ul>
  <li>Functional programming (FP)</li>
  <li>FP in Javascript</li>
  <li>Map / Reduce / Filter</li>
  <li>FP with ES6</li>
  <li>Chaining</li>
  <li>Arrays + next steps</li>
  <li>The assignments</li>
</ul>

<hr />

<h1 id="functional-programming--programming-paradigms">Functional programming &amp; programming paradigms</h1>

<ul>
  <li>FP is a programming paradigm / discipline (not just style)</li>
  <li>Paradigms:
    <ul>
      <li>Object-oriented</li>
      <li>Functional</li>
      <li>Logic programming</li>
      <li>Imperative</li>
      <li>…</li>
    </ul>
  </li>
  <li><a href="https://www.sitepoint.com/introduction-functional-javascript/">JS example (Sitepoint)</a></li>
</ul>

<hr />

<h1 id="functional-programming">Functional programming</h1>

<ul>
  <li><a href="https://en.wikipedia.org/wiki/Functional_programming">Wikipedia</a> <em>“FP is a paradigm …that treats computation as the evaluation of mathematical functions and avoids changing-state and mutable data”</em>
    <ul>
      <li>Key point 1: similar to mathematical functions</li>
      <li>Key point 2: avoids changing state</li>
      <li>Key point 3: avoids mutable data</li>
    </ul>
  </li>
</ul>

<div class="language-javascript highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="kd">const</span> <span class="nx">sentence</span> <span class="o">=</span> <span class="s1">'Lorem ipsum dolor sit amet, consectetur adipiscing elit.'</span><span class="p">;</span>
<span class="kd">const</span> <span class="nx">words</span> <span class="o">=</span> <span class="nx">sentence</span><span class="p">.</span><span class="nx">split</span><span class="p">(</span><span class="s1">' '</span><span class="p">);</span>

<span class="kd">const</span> <span class="nx">uppercase</span> <span class="o">=</span> <span class="nx">words</span><span class="p">.</span><span class="nx">map</span><span class="p">(</span><span class="kd">function</span><span class="p">(</span><span class="nx">word</span><span class="p">)</span> <span class="p">{</span>
  <span class="k">return</span> <span class="nx">word</span><span class="p">.</span><span class="nx">toUpperCase</span><span class="p">();</span>
<span class="p">});</span>

</code></pre></div></div>
<ul>
  <li><strong>words.map</strong> transforms each word in array
    <ul>
      <li>transformation is a function (a mapping from an input value to an output value)</li>
      <li>there is no explicit state in the mapping, data “flows through”</li>
      <li>data is transformed into different object</li>
    </ul>
  </li>
</ul>

<hr />

<h1 id="map--reduce--filter-1">Map / Reduce / Filter</h1>

<ul>
  <li>Functions for processing arrays</li>
  <li>Implemented as methods in array class</li>
  <li><a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Array/map">Map</a> transforms each object in the array
    <ul>
      <li>N items in –&gt; N items out</li>
    </ul>
  </li>
  <li><a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Array/filter">Filter</a> removes values from an array
    <ul>
      <li>N items in –&gt; N or less items out</li>
    </ul>
  </li>
  <li><a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Array/Reduce">Reduce</a> will accumulate values into one
    <ul>
      <li>N items in –&gt; one item out</li>
    </ul>
  </li>
  <li>Read this: <a href="http://cryto.net/~joepie91/blog/2015/05/04/functional-programming-in-javascript-map-filter-reduce/">Map, reduce, filter in JS</a></li>
</ul>

<hr />

<h1 id="functional-js--es6">Functional JS + ES6</h1>

<p>ES6 function arrow syntax suits well for functional paradigm</p>

<p>Example, uppercasing words:</p>

<div class="language-javascript highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="kd">const</span> <span class="nx">words</span> <span class="o">=</span> <span class="nx">sentence</span><span class="p">.</span><span class="nx">split</span><span class="p">(</span><span class="s1">' '</span><span class="p">);</span>

<span class="c1">// ES5 </span>
<span class="kd">const</span> <span class="nx">uppercase</span> <span class="o">=</span> <span class="nx">words</span><span class="p">.</span><span class="nx">map</span><span class="p">(</span><span class="kd">function</span><span class="p">(</span><span class="nx">word</span><span class="p">)</span> <span class="p">{</span>
  <span class="k">return</span> <span class="nx">word</span><span class="p">.</span><span class="nx">toUpperCase</span><span class="p">();</span>
<span class="p">});</span>

<span class="c1">// ES6 </span>
<span class="kd">const</span> <span class="nx">uppercase</span> <span class="o">=</span> <span class="nx">words</span><span class="p">.</span><span class="nx">map</span><span class="p">(</span> <span class="p">(</span><span class="nx">word</span><span class="p">)</span> <span class="o">=&gt;</span> <span class="nx">word</span><span class="p">.</span><span class="nx">toUpperCase</span><span class="p">()</span> <span class="p">);</span>

<span class="c1">// OR </span>
<span class="kd">const</span> <span class="nx">uppercase</span> <span class="o">=</span> <span class="nx">words</span><span class="p">.</span><span class="nx">map</span><span class="p">(</span> <span class="nx">word</span> <span class="o">=&gt;</span> <span class="nx">word</span><span class="p">.</span><span class="nx">toUpperCase</span><span class="p">()</span> <span class="p">);</span>
</code></pre></div></div>
<hr />

<h1 id="functional-js--es6-calculations">Functional JS + ES6: calculations</h1>

<div class="language-javascript highlighter-rouge"><div class="highlight"><pre class="highlight"><code>
<span class="c1">// ES5</span>
<span class="kd">const</span> <span class="nx">numbers</span> <span class="o">=</span> <span class="p">[</span><span class="mi">1</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="mi">3</span><span class="p">,</span> <span class="mi">4</span><span class="p">];</span>
<span class="kd">const</span> <span class="nx">newNumbers</span> <span class="o">=</span> <span class="nx">numbers</span><span class="p">.</span><span class="nx">map</span><span class="p">(</span><span class="kd">function</span><span class="p">(</span><span class="nx">number</span><span class="p">){</span>
    <span class="k">return</span> <span class="nx">number</span> <span class="o">*</span> <span class="mi">2</span><span class="p">;</span>
<span class="p">});</span>

<span class="c1">// ES6 </span>
<span class="kd">const</span> <span class="nx">newNumbers</span> <span class="o">=</span> <span class="nx">numbers</span><span class="p">.</span><span class="nx">map</span><span class="p">(</span> <span class="nx">number</span> <span class="o">=&gt;</span> <span class="nx">number</span><span class="o">*</span><span class="mi">2</span> <span class="p">);</span>

</code></pre></div></div>

<p><a href="http://cryto.net/~joepie91/blog/2015/05/04/functional-programming-in-javascript-map-filter-reduce/">source</a></p>

<hr />

<h1 id="chaining-with-map--filter--reduce">Chaining with map / filter / reduce</h1>

<div class="language-javascript highlighter-rouge"><div class="highlight"><pre class="highlight"><code>
<span class="c1">// upper case each word</span>
<span class="nx">words</span><span class="p">.</span><span class="nx">map</span><span class="p">(</span> <span class="nx">word</span> <span class="o">=&gt;</span> <span class="nx">word</span><span class="p">.</span><span class="nx">toUpperCase</span><span class="p">()</span> <span class="p">);</span>

<span class="c1">// remove long words</span>
<span class="nx">words</span><span class="p">.</span><span class="nx">filter</span><span class="p">(</span> <span class="nx">word</span> <span class="o">=&gt;</span> <span class="nx">word</span><span class="p">.</span><span class="nx">length</span> <span class="o">&lt;</span> <span class="mi">5</span> <span class="p">);</span>

<span class="c1">// count words (Note: 0 initializes the variable sum), </span>
<span class="c1">// finally sum is returned</span>
<span class="kd">const</span> <span class="nx">sum</span> <span class="o">=</span> <span class="nx">words</span><span class="p">.</span><span class="nx">reduce</span><span class="p">(</span> <span class="p">(</span><span class="nx">sum</span><span class="p">,</span> <span class="nx">word</span><span class="p">)</span> <span class="o">=&gt;</span> <span class="nx">sum</span> <span class="o">+=</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">0</span><span class="p">);</span>

<span class="c1">// chained</span>
<span class="nx">words</span><span class="p">.</span><span class="nx">map</span><span class="p">(</span> <span class="nx">word</span> <span class="o">=&gt;</span> <span class="nx">word</span><span class="p">.</span><span class="nx">toUpperCase</span><span class="p">()</span> <span class="p">)</span>
     <span class="p">.</span><span class="nx">filter</span><span class="p">(</span> <span class="nx">word</span> <span class="o">=&gt;</span> <span class="nx">word</span><span class="p">.</span><span class="nx">length</span> <span class="o">&lt;</span> <span class="mi">5</span> <span class="p">)</span>
     <span class="p">.</span><span class="nx">reduce</span><span class="p">(</span> <span class="p">(</span><span class="nx">sum</span><span class="p">,</span> <span class="nx">word</span><span class="p">)</span> <span class="o">=&gt;</span> <span class="nx">sum</span> <span class="o">+=</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">0</span><span class="p">);</span>


</code></pre></div></div>
<hr />

<h1 id="array-iteration-methods">Array iteration methods</h1>

<ul>
  <li>Note: Map, Filter and Reduce are part of the <em><a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Array">array</a> iteration methods</em></li>
  <li>In addition, there is
    <ul>
      <li><a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Array/entries">entries()</a></li>
      <li><a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Array/every">every()</a></li>
      <li><a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Array/find">find()</a></li>
      <li><a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Array/findIndex">findIndex()</a></li>
      <li><a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Array/forEach">forEach()</a></li>
      <li><a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Array/keys">keys()</a></li>
      <li><a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Array/reduceRight">reduceRight()</a></li>
      <li><a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Array/some">some()</a></li>
      <li><a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Array/values">values()</a></li>
      <li><a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Array/@@iterator">@@iterator()</a></li>
    </ul>
  </li>
</ul>

<p><strong>–&gt; Javascript arrays are having powerful tools for (functional) data processing</strong></p>

<hr />

<h1 id="further-reading">Further reading</h1>

<ul>
  <li><a href="http://www.programwitherik.com/functional-javascript-with-reduce/">Reduce examples</a></li>
  <li><a href="http://cryto.net/~joepie91/blog/2015/05/04/functional-programming-in-javascript-map-filter-reduce/">Map, reduce, filter in JS</a></li>
  <li><a href="https://medium.com/javascript-scene/master-the-javascript-interview-what-is-functional-programming-7f218c68b3a0">Master the Javascript Interview: What is Functional Programming</a></li>
  <li><a href="https://github.com/stoeffel/awesome-fp-js">Awesome Functional Javascript</a></li>
  <li><a href="http://jrsinclair.com/articles/2016/gentle-introduction-to-functional-javascript-intro/">A Gentle Introduction to Functional Javascript</a></li>
  <li><a href="https://github.com/MostlyAdequate/mostly-adequate-guide">Professor Frisby’s Mostly Adequate Guide to Functional Programming</a></li>
</ul>

<hr />

<h1 id="assignment-1-playing-with-text">Assignment 1: playing with text</h1>

<p>Download texts by <a href="https://gist.githubusercontent.com/OAlm/fc8d4c6eadb057ddbb68959743713c69/raw/4b3a7a1cbdecba5ed71fd49f9c651874067e65ad/linus.txt">Linus</a> and <a href="https://gist.githubusercontent.com/OAlm/5cda155b75b048d9c82bc5fde5606d81/raw/e0dd59c8987ff8a0861f22d133d32ef83d751a80/turing.txt">Turing</a></p>

<p>Try out following tasks, <strong>using map, reduce, filter</strong> approach in ES6 syntax</p>

<ol>
  <li>Remove punctuations from the text (! ? . , etc.)</li>
  <li>List words starting with uppercase ‘A’</li>
  <li>List words starting with letter ‘a’, incasesensitive</li>
  <li>Count words</li>
  <li>Remove all vowels from the text</li>
  <li>Count all consonants</li>
  <li>…</li>
</ol>

<hr />

<h1 id="assignment-2-playing-with-data">Assignment 2: playing with data</h1>

<p>Download <a href="https://en.wikipedia.org/wiki/List_of_James_Bond_villains">Bond villains</a> from <a href="https://gist.githubusercontent.com/OAlm/027725f4d3d0e85338a51e6c29c3dfac/raw/091c7ddbb5abe4d21c30cdc3dfd777149a8f5915/bond_villains.json">here</a></p>

<p>Try out following tasks, <strong>using map, reduce, filter</strong> approach in ES6 syntax</p>

<ol>
  <li>List all the villains from 1970s</li>
  <li>Count the average time between the movies</li>
  <li>Get all the villains who acted in a movie having letter ‘e’ in their name</li>
  <li>List all entries with a villain name longer than 15 characters</li>
  <li>Create a modified JSON without numbers and years</li>
  <li>…</li>
</ol>

<p><a href="http://elijahmanor.com/reducing-filter-and-map-down-to-reduce/">*</a></p>

<p><strong>Update: return a code sample of your achievements to Oma</strong></p>

<p><strong>Be ready to present your achievements on Thursday morning</strong></p>

    </section>
</div>

<!-- FOOTER  -->
<div id="footer_wrap" class="outer">
    <footer class="inner">
        
        <p class="copyright">Server Side Scripting Frameworks maintained by <a href="http://github.com/ilkkamtk">ilkkamtk</a></p>
        
        <p>Published with <a href="https://pages.github.com">GitHub Pages</a></p>
    </footer>
</div>


</body>
</html>